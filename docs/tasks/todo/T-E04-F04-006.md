---
task_key: T-E04-F04-006
status: todo
feature: /home/jwwelbor/.claude/docs/plan/E04-task-mgmt-cli-core/E04-F04-epic-feature-queries
created: 2025-12-14
assigned_agent: general-purpose
dependencies: [T-E04-F04-005]
estimated_time: 2 hours
file_path: /home/jwwelbor/.claude/docs/tasks/todo/T-E04-F04-006.md
---

# Task: Documentation & Usage Examples

## Goal

Create comprehensive user documentation for epic and feature query commands including command reference, usage examples, JSON output examples with jq processing, and agent integration patterns.

## Success Criteria

- [ ] Command reference created for all 4 commands
- [ ] Usage examples provided for common scenarios
- [ ] JSON output examples with jq queries documented
- [ ] Error message catalog created
- [ ] Agent integration guide written
- [ ] Help text accurate and helpful for all commands
- [ ] Examples run successfully (verified)
- [ ] Documentation covers all flags and filters

## Implementation Guidance

### Overview

This phase creates user-facing documentation that helps developers and AI agents use the epic and feature query commands effectively. Documentation must include practical examples, explain JSON output structure, and provide integration patterns for agents.

### Key Requirements

- **Command Reference**: Document all commands with complete syntax
  - `pm epic list [--json] [--sort-by=<field>]`
  - `pm epic get <epic-key> [--json]`
  - `pm feature list [--epic=<key>] [--status=<status>] [--json] [--sort-by=<field>]`
  - `pm feature get <feature-key> [--json]`
  - Describe all flags, options, and arguments
  - List all valid values for filters (status options)

- **Usage Examples**: See [PRD - User Stories](../docs/plan/E04-task-mgmt-cli-core/E04-F04-epic-feature-queries/prd.md#user-stories)
  - List all epics with progress
  - Get epic details with feature breakdown
  - List features for specific epic
  - Get feature details with task breakdown
  - Filter features by status
  - Sort by progress to prioritize work

- **JSON Output Examples**:
  - Show JSON structure for each command
  - Provide jq examples for common queries
  - Example: `pm epic get E01 --json | jq '.features[] | select(.status == "active") | .key'`
  - Example: `pm feature list --json | jq '.results[] | select(.progress_pct < 50) | .key'`
  - Document JSON field names and data types

- **Agent Integration Guide**:
  - How agents should query project structure
  - How to parse JSON output in Python
  - Example: Determine which epic needs attention based on progress
  - Example: Find incomplete features for current epic
  - Token efficiency tips (JSON vs reading markdown files)

- **Error Message Catalog**:
  - List all error messages with exit codes
  - Explain what each error means
  - Provide resolution steps
  - Example: "Error: Epic E99 does not exist" â†’ Check epic key, run `pm epic list`

### Files to Create/Modify

**New Files**:
- `docs/cli/epic-feature-queries.md` - Main command documentation (~200 lines)
- `docs/cli/examples/epic-queries.md` - Epic command examples (~100 lines)
- `docs/cli/examples/feature-queries.md` - Feature command examples (~100 lines)
- `docs/agent-integration/querying-structure.md` - Agent integration guide (~200 lines)

**Modified Files**:
- Help text in `pm/cli/epic.py` - Ensure accurate and complete
- Help text in `pm/cli/feature.py` - Ensure accurate and complete
- Main CLI help text - Add epic and feature command descriptions

### Integration Points

- **PRD User Stories**: Reference user stories for example scenarios
- **Acceptance Criteria**: Use acceptance criteria as test cases to document
- **Agent Persona**: Write integration guide targeting AI agent persona from PRD

## Validation Gates

- **Documentation Completeness**:
  - All commands documented
  - All flags and filters explained
  - All error messages cataloged
  - JSON structure fully documented

- **Examples Work**:
  - Run all example commands and verify output
  - Test all jq queries and verify results
  - Verify agent integration examples work

- **Help Text Accuracy**:
  - `pm epic --help` shows accurate information
  - `pm epic list --help` shows all flags
  - `pm feature list --help` shows all filters
  - Help text matches documentation

- **Agent Readiness**:
  - Agent integration guide complete
  - Python code examples for parsing JSON
  - Common agent workflows documented
  - Token efficiency patterns explained

## Context & Resources

- **PRD**: [User Stories and Personas](../docs/plan/E04-task-mgmt-cli-core/E04-F04-epic-feature-queries/prd.md#user-personas)
  - Primary persona: Product Manager / Technical Lead
  - Secondary persona: AI Agent
  - User stories provide example scenarios

- **Acceptance Criteria**: Use as documentation test cases
- **Implemented Commands**: Reference actual command implementations for accurate documentation

## Notes for Agent

- **Practical Examples**: Show real-world scenarios, not just syntax. Example: "Find epics that need attention" with full command and output.
- **jq Mastery**: Provide jq examples for common queries. Many users unfamiliar with jq will copy-paste these examples.
- **Agent Focus**: AI agents are key users. Integration guide must be clear, with Python code examples for JSON parsing.
- **Error Help**: Error messages should be self-documenting, but catalog helps users understand what went wrong and how to fix it.
- **Help Text**: Click's auto-generated help is good, but add detailed descriptions and examples. Use `help=` parameter in decorators.
- **Documentation Location**: Place in `docs/cli/` for user-facing docs. Keep technical implementation notes separate.
- **Version Documentation**: If commands evolve, document current behavior. Note if features are planned but not yet implemented.
