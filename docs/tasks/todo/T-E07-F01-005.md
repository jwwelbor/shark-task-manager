
---
key: T-E07-F01-005
title: Implement feature creator function with custom filename support
epic: E07
feature: E07-F01
agent: backend
status: todo
priority: 5
created_at: 2025-12-18T04:54:03Z
---

# Task: Feature Creation with Custom Filenames

## Goal

Create or update feature creation logic to accept custom filenames, implement collision detection, file association, and force reassignment.

## Requirements

### Functional Requirements

- [ ] Create CreateFeatureInput struct with Title, EpicKey, Filename, Force fields
- [ ] Create CreateFeature(ctx, input) function
- [ ] Accept custom filename paths with validation
- [ ] Detect file collisions with other features
- [ ] Support force reassignment
- [ ] Associate existing files without modification
- [ ] Create new files if they don't exist
- [ ] Use atomic transactions for multi-step operations
- [ ] Return created feature with key and file_path

### Non-Functional Requirements

- [ ] Transaction handling ensures atomicity
- [ ] Error messages match epic and task creator format
- [ ] File operations match epic creator behavior

## Implementation Plan

### Files to Modify

1. **internal/taskcreation/creator.go** or new **internal/taskcreation/feature_creator.go**
   - Add CreateFeatureInput struct
   - Add CreateFeature function
   - Mirror epic creator implementation

### Steps

1. [ ] Review CreateEpic implementation from T-E07-F01-004
2. [ ] Create CreateFeatureInput struct
3. [ ] Create CreateFeature function following same pattern as CreateEpic
4. [ ] Implement all same logic (validation, collision detection, force reassignment)
5. [ ] Test with manual CLI invocation

## Deliverables

- [ ] CreateFeature function implemented
- [ ] Custom filename handling complete
- [ ] Collision detection and force reassignment working
- [ ] All tests passing

## Acceptance Criteria

- [ ] Function mirrors CreateEpic implementation
- [ ] All validation rules applied
- [ ] Collision detection prevents overwrites
- [ ] Force reassignment updates both features atomically
- [ ] All edge cases handled

## Testing Strategy

- [ ] Unit tests for CreateFeature function
- [ ] Integration tests with database
- [ ] Collision detection and force reassignment tests

## Dependencies

Depends on: T-E07-F01-004 (epic creator should be completed first)

