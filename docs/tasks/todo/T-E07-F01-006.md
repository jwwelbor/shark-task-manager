
---
key: T-E07-F01-006
title: Add --filename and --force flags to shark epic create command
epic: E07
feature: E07-F01
agent: backend
status: todo
priority: 6
created_at: 2025-12-18T04:54:03Z
---

# Task: Epic CLI Integration

## Goal

Update `shark epic create` command to accept and handle `--filename` and `--force` flags, passing them to the epic creator function.

**Reference**: internal/cli/commands/task.go for task create CLI integration pattern (lines 1093-1094, 578-579, 625-626).

## Requirements

### Functional Requirements

- [ ] Add --filename string flag to epic create command
- [ ] Add --force boolean flag to epic create command
- [ ] Parse flags in runEpicCreate handler
- [ ] Pass to CreateEpicInput struct
- [ ] Get project root (os.Getwd())
- [ ] Pass projectRoot to epic creator
- [ ] Handle errors and output to user

### Non-Functional Requirements

- [ ] Flags optional (defaults: empty string, false)
- [ ] Follows existing flag conventions in codebase
- [ ] Error messages match task create style

## Implementation Plan

### Files to Modify

1. **internal/cli/commands/epic.go**
   - Add flags after line matching runEpicCreate definition
   - Flags: --filename (string, default "")
   - Flags: --force (boolean, default false)
   - Parse flags in runEpicCreate handler
   - Get project root
   - Create epic creator with projectRoot
   - Pass Filename and Force to CreateEpicInput

### Steps

1. [ ] Review task create flags in task.go:1093-1094
2. [ ] Add --filename and --force flags to epicCreateCmd
3. [ ] Parse flags in runEpicCreate (cmd.Flags().GetString/GetBool)
4. [ ] Get project root with os.Getwd()
5. [ ] Pass to CreateEpicInput struct
6. [ ] Test CLI: `./bin/shark epic create "Title" --epic=E07 --filename="docs/roadmap.md"`
7. [ ] Test error cases: absolute path, traversal, wrong extension
8. [ ] Test collision detection and force reassignment

## Deliverables

- [ ] Flags added to epic create command
- [ ] Flags properly parsed
- [ ] Values passed to creator
- [ ] CLI works end-to-end
- [ ] Error handling working

## Acceptance Criteria

- [ ] Flags follow project conventions
- [ ] Custom filenames accepted and validated
- [ ] Force flag allows reassignment
- [ ] All validation errors handled
- [ ] CLI output clear and helpful

## Dependencies

Depends on: T-E07-F01-004 (epic creator must be implemented first)

