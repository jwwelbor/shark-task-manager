---
agent: general
created_at: 2025-12-21T19:53:32Z
epic: E07
feature: E07-F06
key: T-E07-F06-006
priority: 5
status: todo
task_key: T-E07-F06-014
title: Task Integration Tests
---

# Task: Task Integration Tests

## Goal

Write integration tests for `task list` command with positional arguments supporting epic, feature, and combined syntax variations.

## Requirements

- [ ] Test 0, 1, 2, 3+ argument combinations
- [ ] Test single epic filter (E##)
- [ ] Test single feature key (E##-F##)
- [ ] Test two-arg syntax (E## F##)
- [ ] Test two-arg with combined feature (E## E##-F##)
- [ ] Test flag syntax still works
- [ ] Test positional overrides flags
- [ ] Verify JSON output unchanged
- [ ] All error messages clear and actionable

## Acceptance Criteria

- [ ] `shark task list` returns all tasks
- [ ] `shark task list E04` filters to epic
- [ ] `shark task list E04-F01` filters both
- [ ] `shark task list E04 F01` identical to combined
- [ ] `shark task list --epic=E04` still works
- [ ] `shark task list E04 F01 extra` shows error
- [ ] All regression tests pass
- [ ] Output format unchanged

## Test Scenarios

1. No args (all tasks)
2. Single epic (E##)
3. Combined feature (E##-F##)
4. Two-arg syntax (E## F##)
5. Invalid epic format
6. Invalid feature format
7. Too many args
8. Flag vs positional priority
9. Mixed flags + positional
10. Nonexistent epic/feature handling
11. JSON output verification
12. Status flag compatibility

## Dependencies

- T-E07-F06-001: Pattern helpers
- T-E07-F06-003: Task list implementation
- T-E07-F06-004: Unit tests
