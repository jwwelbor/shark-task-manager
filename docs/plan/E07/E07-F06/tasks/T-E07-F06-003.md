---
agent: general
created_at: 2025-12-21T19:53:23Z
epic: E07
feature: E07-F06
key: T-E07-F06-003
priority: 5
status: todo
task_key: T-E07-F06-011
title: Task List Positional Arguments
---

# Task: Task List Positional Arguments

## Goal

Implement positional argument parsing for `shark task list` to accept 0-2 arguments (epic and/or feature keys), with support for combined "E##-F##" syntax.

## Requirements

### Functional Requirements

- [ ] Task list accepts 0, 1, or 2 positional arguments
- [ ] 0 args: list all tasks
- [ ] 1 arg (E##): filter by epic
- [ ] 1 arg (E##-F##): parse and filter by epic + feature
- [ ] 2 args (E## F##): filter by epic + feature
- [ ] 2 args (E## E##-F##): handle feature key with embedded epic
- [ ] 3+ args: error with clear message
- [ ] Maintain --epic and --feature flags (backward compatible)
- [ ] Positional args take priority over flags

### Non-Functional Requirements

- [ ] Zero performance impact
- [ ] 100% backward compatibility
- [ ] Argument parsing < 1ms

## Implementation Plan

1. [ ] Implement ParseTaskListArgs() using pattern helpers
2. [ ] Modify `internal/cli/commands/task.go` list command
3. [ ] Handle all argument combinations per spec
4. [ ] Update help text with examples
5. [ ] Add comprehensive integration tests
6. [ ] Verify flag behavior unchanged

## Deliverables

- [ ] Updated `task list` command implementation
- [ ] Updated help text
- [ ] Integration tests covering all cases
- [ ] Backward compatibility verified

## Acceptance Criteria

- [ ] `shark task list E04` filters by epic
- [ ] `shark task list E04-F01` filters by both
- [ ] `shark task list E04 F01` identical to above
- [ ] `shark task list --epic=E04 --feature=F01` still works
- [ ] Error for 3+ args or invalid formats
- [ ] Help shows "[EPIC] [FEATURE]" syntax

## Related Documents

- See `feature-spec.md` section "FR1.2: Task List Positional Arguments"
- See `feature-spec.md` section "ParseTaskListArgs"

## Dependencies

- T-E07-F06-001: Pattern matching helpers
