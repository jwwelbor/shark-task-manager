---
agent: general
created_at: 2026-01-01T06:56:45Z
epic: E07
feature: E07-F13
key: T-E07-F13-005
priority: 6
status: todo
task_key: T-E07-F13-011
title: Update documentation (CLAUDE.md, README.md, CLI_REFERENCE.md)
---


# Task: Update documentation (CLAUDE.md, README.md, CLI_REFERENCE.md)

## Goal

Update all user-facing documentation (CLAUDE.md, README.md, CLI_REFERENCE.md) to reflect that agent types are now flexible and support custom values beyond the original six hardcoded types. Remove all mentions of restricted agent type lists and replace with guidance on recommended agent types with examples of custom agent types for multi-agent workflows.

## Requirements

### Functional Requirements

- [ ] Update CLAUDE.md to remove hardcoded agent type restrictions
- [ ] Update README.md to show custom agent type examples
- [ ] Update CLI_REFERENCE.md (docs/cli-reference/) to explain flexible agent types
- [ ] Add examples of custom agent types (architect, business-analyst, qa, etc.)
- [ ] Document template fallback behavior for unknown agent types
- [ ] Maintain backward compatibility messaging (standard types still work)

### Non-Functional Requirements

- [ ] Documentation clarity: Users should immediately understand agent types are flexible
- [ ] Consistency: All documentation files use same terminology and examples
- [ ] Migration guidance: Clear transition from old to new mental model
- [ ] Completeness: All references to agent type restrictions are updated

## Implementation Plan

### Files to Update

#### 1. CLAUDE.md
**Location**: `/home/jwwelbor/projects/shark-task-manager/CLAUDE.md`

**Current state**: References `--agent` flag with hardcoded list in line 513
```markdown
- `--agent`: Agent type (`frontend`, `backend`, `api`, `testing`, `devops`, `general`)
```

**Required changes**:
- **Section: "Task Management (Primary AI Interface)"** (around line 513)
  - **BEFORE**: `--agent: Agent type (frontend, backend, api, testing, devops, general)`
  - **AFTER**: `--agent: Agent type (any non-empty string; recommended: frontend, backend, api, testing, devops, general, architect, business-analyst, qa, tech-lead, product-manager, ux-designer)`
  - Add note: "Custom agent types fall back to general template"

- **Add new section**: "Agent Type Flexibility" (after Task Management section)
  ```markdown
  ### Agent Type Flexibility

  Shark supports flexible agent type assignment to accommodate diverse team structures and multi-agent workflows:

  **Recommended Agent Types** (have specific templates):
  - `frontend`, `backend`, `api`, `testing`, `devops`, `general`

  **Common Custom Agent Types** (use general template):
  - `architect`, `business-analyst`, `qa`, `tech-lead`, `product-manager`, `ux-designer`
  - `data-engineer`, `ml-engineer`, `security-auditor`, `devops-specialist`
  - Any custom role matching your team structure

  **Template Behavior**:
  - Standard agent types use role-specific templates (if available)
  - Custom agent types automatically fall back to the `general` template
  - All agent types are stored exactly as entered (no normalization)

  **Examples**:
  ```bash
  # Standard agent type (uses backend template)
  shark task create E07 F01 "API endpoint" --agent=backend

  # Custom agent type (uses general template)
  shark task create E07 F01 "Design architecture" --agent=architect
  shark task create E07 F01 "Write user stories" --agent=business-analyst
  shark task create E07 F01 "Test plan" --agent=qa
  ```
  ```

#### 2. README.md
**Location**: `/home/jwwelbor/projects/shark-task-manager/README.md`

**Current state**: Multiple references to `--agent` flag with examples

**Required changes**:
- **Section: "Creating Tasks"** (around line 484)
  - Add example with custom agent type:
    ```bash
    # With custom agent type (for multi-agent workflows)
    shark task create E04 F06 "Elaborate user stories" \
      --agent=business-analyst \
      --priority=3
    ```

- **Section: "Get Next Task"** (around lines 421-422)
  - Add example:
    ```bash
    # Get next task for custom agent type
    shark task next --agent=architect --json
    shark task next --agent=business-analyst --json
    ```

- **Section: "AI Agent Integration"** (around line 324 or within AI-Driven Workflows)
  - Add note about custom agent types:
    ```markdown
    **Custom Agent Types**: Shark supports any custom agent type to match your team structure or multi-agent workflow (e.g., `architect`, `business-analyst`, `qa`, `tech-lead`, `product-manager`). Custom types use the `general` template.
    ```

#### 3. CLI_REFERENCE.md
**Location**: `/home/jwwelbor/projects/shark-task-manager/docs/cli-reference/task-commands-full.md`

**Current state**: Line 24 shows hardcoded list
```markdown
- `--agent <type>`: Agent type (`frontend`, `backend`, `api`, `testing`, `devops`, `general`)
```

**Required changes**:
- **Update flag description**:
  - **BEFORE**: `--agent <type>: Agent type (frontend, backend, api, testing, devops, general)`
  - **AFTER**:
    ```markdown
    - `--agent <type>`: Agent type (any non-empty string)
      - **Recommended types**: `frontend`, `backend`, `api`, `testing`, `devops`, `general` (have specific templates)
      - **Custom types**: `architect`, `business-analyst`, `qa`, `tech-lead`, `product-manager`, etc. (use general template)
      - Custom agent types are fully supported and stored exactly as entered
    ```

- **Add section**: "Agent Type Flexibility" (near examples section)
  ```markdown
  ### Agent Type Flexibility

  Shark accepts any non-empty string for the `--agent` flag, enabling flexible multi-agent workflows:

  **Standard Types** (specific templates available):
  - `frontend`, `backend`, `api`, `testing`, `devops`, `general`

  **Custom Types** (use general template):
  - `architect`, `business-analyst`, `qa`, `tech-lead`, `product-manager`, `ux-designer`
  - `data-engineer`, `ml-specialist`, `security-auditor`
  - Any custom role matching your workflow

  **Examples**:
  ```bash
  # Standard agent type
  shark task create E07 F01 "Build API" --agent=backend

  # Custom agent types
  shark task create E07 F01 "Design system architecture" --agent=architect
  shark task create E07 F01 "Elaborate requirements" --agent=business-analyst
  shark task create E07 F01 "Create test plan" --agent=qa

  # Filtering by custom agent type
  shark task list --agent=architect
  shark task next --agent=business-analyst --json
  ```

  **Template Fallback**:
  When creating a task with a custom agent type that has no specific template, Shark automatically uses the `general` template. This ensures task creation always succeeds while maintaining consistency.
  ```

#### 4. docs/cli-reference/best-practices.md
**Location**: `/home/jwwelbor/projects/shark-task-manager/docs/cli-reference/best-practices.md`

**Required changes**:
- Add section on agent type selection:
  ```markdown
  ### Agent Type Selection

  **Choose agent types that match your workflow**:
  - Use standard types (`frontend`, `backend`, etc.) when working with traditional development roles
  - Use custom types (`architect`, `business-analyst`, `qa`) for specialized workflow phases
  - Maintain consistency in naming (e.g., always use `business-analyst`, not sometimes `BA` or `analyst`)

  **Multi-Agent Workflows**:
  When coordinating multiple AI agents or team members:
  - Assign specific agent types to each role
  - Use `shark task next --agent=<type>` to query work for specific agents
  - Filter task lists by agent type for role-based views

  **Template Awareness**:
  - Standard agent types may have role-specific templates
  - Custom agent types use the `general` template
  - All templates can be customized in `internal/init/shark-templates/`
  ```

### Steps

1. [ ] Update CLAUDE.md Section: Task Management (Primary AI Interface) - line 513
2. [ ] Add CLAUDE.md Section: Agent Type Flexibility
3. [ ] Update README.md Section: Creating Tasks - add custom agent example
4. [ ] Update README.md Section: Get Next Task - add custom agent examples
5. [ ] Update README.md Section: AI Agent Integration - add custom agent types note
6. [ ] Update CLI_REFERENCE.md: task-commands-full.md flag description
7. [ ] Add CLI_REFERENCE.md: Agent Type Flexibility section with examples
8. [ ] Update best-practices.md: Add Agent Type Selection section
9. [ ] Review all changes for consistency in terminology
10. [ ] Search for any remaining hardcoded agent type lists and update

### Technical Approach

**Messaging Strategy**:
- **Positive framing**: "Shark now supports flexible agent types" (not "restrictions removed")
- **Backward compatible**: Emphasize standard types still work
- **Examples-driven**: Show concrete custom agent types (architect, business-analyst, qa)
- **Template transparency**: Explain fallback behavior clearly

**Terminology Consistency**:
- "Recommended agent types" (not "valid" or "allowed")
- "Custom agent types" (not "unsupported" or "other")
- "Template fallback" (not "default" or "generic")
- "Multi-agent workflows" (use case context)

**Migration Guidance**:
- No action required for existing users (backward compatible)
- New capability: Can now use custom agent types
- Template behavior: Transparent fallback to general

## Deliverables

- [ ] CLAUDE.md updated with flexible agent type documentation
- [ ] README.md updated with custom agent type examples
- [ ] CLI_REFERENCE.md (task-commands-full.md) updated with comprehensive agent type guidance
- [ ] best-practices.md updated with agent type selection guidelines
- [ ] All documentation uses consistent terminology and examples
- [ ] Before/after comparison documented in task notes

## Acceptance Criteria

- [ ] All hardcoded agent type lists (frontend, backend, api, testing, devops, general) are replaced with "recommended types" language
- [ ] At least 3 custom agent type examples included in each documentation file (architect, business-analyst, qa)
- [ ] Template fallback behavior documented in at least 2 locations
- [ ] Backward compatibility messaging present in updated sections
- [ ] No references to "invalid agent type" or "restricted to" remain
- [ ] Documentation review confirms clarity and consistency

## Testing Strategy

**Documentation Testing**:
- [ ] Search all .md files for "frontend, backend, api, testing, devops, general" pattern
- [ ] Verify no remaining "invalid agent type" or "restricted" language
- [ ] Confirm custom agent examples (architect, business-analyst, qa) present
- [ ] Check terminology consistency across all files
- [ ] Validate markdown formatting and links

**Validation Commands**:
```bash
# Find remaining hardcoded lists
grep -r "frontend.*backend.*api.*testing.*devops.*general" docs/ CLAUDE.md README.md

# Find restriction language
grep -ri "invalid agent\|restricted to\|must be one of\|valid types are" docs/ CLAUDE.md README.md

# Verify custom agent examples
grep -r "architect\|business-analyst\|qa.*agent" docs/ CLAUDE.md README.md
```

## Dependencies

**Upstream (must be complete first)**:
- T-E07-F13-001: Update ValidateAgentType function (validation changes)
- T-E07-F13-002: Deprecate AgentType enum constants
- T-E07-F13-003: Update template renderer validation (template fallback)

**Reason**: Documentation must accurately reflect implemented behavior

## Notes

### Key Messages to Convey

1. **Flexibility**: Agent types now support any non-empty string
2. **Recommended vs Custom**: Standard types have templates, custom types use general template
3. **Multi-Agent Workflows**: Custom types enable orchestration (architect, business-analyst, qa, etc.)
4. **Backward Compatible**: Existing agent types work unchanged
5. **Template Transparency**: Users understand when general template is used

### Examples to Include

**Standard Agent Types** (maintain these):
- `frontend`, `backend`, `api`, `testing`, `devops`, `general`

**Custom Agent Types** (add these):
- `architect` - System design and architecture decisions
- `business-analyst` - Requirements elaboration and user stories
- `qa` - Test planning and quality assurance
- `tech-lead` - Technical coordination and code review
- `product-manager` - Feature planning and prioritization
- `ux-designer` - UI/UX design and prototyping
- `data-engineer` - Data pipeline and ETL tasks
- `ml-specialist` - Machine learning model development
- `security-auditor` - Security review and compliance

### Documentation Testing Criteria

**Completeness Check**:
- [x] CLAUDE.md sections identified (line 513, new section needed)
- [x] README.md sections identified (lines 334, 421-422, 484)
- [x] CLI_REFERENCE.md files identified (task-commands-full.md line 24)
- [x] best-practices.md enhancement identified

**Quality Check**:
- [ ] Consistent terminology used across all files
- [ ] Examples are concrete and realistic
- [ ] Template fallback behavior is clear
- [ ] Backward compatibility is emphasized
- [ ] Multi-agent workflow use case is explained

### Before/After Summary

**BEFORE** (Current Documentation):
- Agent types restricted to 6 values: frontend, backend, api, testing, devops, general
- Language implies these are the only valid options
- No mention of custom agent types or multi-agent workflows

**AFTER** (Updated Documentation):
- Agent types support any non-empty string
- Recommended types (frontend, backend, etc.) have specific templates
- Custom types (architect, business-analyst, qa) supported with general template fallback
- Multi-agent workflow use case clearly explained
- Backward compatibility emphasized
