
---
key: T-E07-F20-001
title: Add key normalization function for case insensitivity
epic: E07
feature: E07-F20
agent: backend
status: todo
priority: 8
created_at: 2026-01-03T22:00:30Z
---

# Task: Add key normalization function for case insensitivity

## Goal

Add a NormalizeKey() function to enable case-insensitive key handling throughout the CLI. This allows users to use `e01`, `E01`, or `e-01` interchangeably.

## Implementation Details

### File Location
`/home/jwwelbor/projects/shark-task-manager/internal/cli/commands/helpers.go`

### Function to Add

```go
// NormalizeKey converts a key to canonical uppercase format.
// This enables case-insensitive key handling throughout the CLI.
//
// Examples:
//   e01 -> E01
//   t-e04-f02-001 -> T-E04-F02-001
//   E01-FEATURE-NAME -> E01-FEATURE-NAME
func NormalizeKey(key string) string {
	return strings.ToUpper(key)
}
```

### Where to Place
Add this function after the regex pattern declarations in `helpers.go`

### Estimated Time
1 hour

## Acceptance Criteria

- [ ] NormalizeKey() function added to helpers.go
- [ ] Function has clear documentation with examples
- [ ] Function handles empty strings gracefully
- [ ] Function preserves hyphens and other structure
- [ ] No external dependencies required

## Testing Requirements

### Unit Tests
Will be covered in T-E07-F20-004 (Add unit tests for case insensitive keys)

Test cases needed:
- Uppercase epic: "E01" → "E01"
- Lowercase epic: "e01" → "E01"
- Mixed case epic: "E01" → "E01"
- Feature keys: "e04-f02" → "E04-F02"
- Task keys: "t-e04-f02-001" → "T-E04-F02-001"

## Related Documentation

- Implementation Guide: `/home/jwwelbor/projects/shark-task-manager/docs/workflow/artifacts/F20-implementation-guide.md` (lines 17-36)
- Design Summary: `/home/jwwelbor/projects/shark-task-manager/docs/workflow/artifacts/F20-design-summary.md`

## Dependencies

None - this is the foundation task for Phase 1

## Notes

- This is a pure function with no side effects
- Keep it simple - just uppercase conversion
- More complex normalization (like slug handling) comes in later phases
